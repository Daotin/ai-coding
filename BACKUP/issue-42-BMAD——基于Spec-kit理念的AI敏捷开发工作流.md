---
layout: post
title: "BMAD——基于Spec-kit理念的AI敏捷开发工作流"
date: 2025-12-01
tags: [AI方法论]
---
## 什么是 BMAD？

**[BMAD](https://github.com/bmad-code-org/BMAD-METHOD)** 是 **"Breakthrough Method for Agile AI-Driven Development"**（敏捷 AI 驱动开发突破法）的缩写。

它不是一个新的编程语言或软件工具，而是一套**AI 编程管理框架**。它的核心目的是解决开发者直接使用 AI 编写代码时遇到的“上下文丢失”、“逻辑混乱”和“代码难以维护”的问题。

BMAD 将软件工程中成熟的敏捷开发流程引入到 AI 编程中，通过标准化的步骤控制 AI 的输出质量。

## 为什么要使用 BMAD？

相比于直接让 AI “帮我写个网站”，使用 BMAD 流程有以下三个核心优势：

1.  **解决上下文限制**
    大型前端项目文件极多，AI 很难一次性理解整个项目。BMAD 通过将项目拆解为独立的 Story，让 AI 每次只聚焦一小块内容，从而保证了高准确率。

2.  **保证代码一致性**
    普通的 AI 编程容易导致风格混乱（例如一会用 CSS Modules，一会用 Tailwind）。BMAD 通过架构师角色强制统一规范，所有后续生成的代码都必须遵循 `Architecture.md` 中的定义。

3.  **提升可维护性**
    项目结束后，你不仅拥有一套代码，还拥有一套完整的文档（需求文档、架构文档、任务文档）。这使得项目在未来维护或交接给他人时更加容易。

## BMAD 与 Spec-kit 的关系

BMAD 是在 **Spec-kit**（规格说明书工具包）的核心理念基础上扩展而成的完整开发体系。两者的底层逻辑完全一致：

1.  **文档优先 (Context First)**：Spec-kit 提倡“先写 Spec 文档，再写代码”。BMAD 继承了这一点，要求在写代码前必须生成产品需求文档（PRD）和技术架构文档。
2.  **阶段性阻断 (Gated Phases)**：Spec-kit 要求每一个步骤必须经由人类确认。BMAD 将其标准化为：需求确认 -> 架构确认 -> 任务拆解 -> 代码实现。只有前一步确认无误，才能进入下一步。

**可以说，BMAD 就是将 Spec-kit 的理念应用到了从需求分析到最终交付的整个软件项目周期中。**

## 实战演示

为了让你直观理解 BMAD 如何工作，我们以开发一个 **基于 Next.js + Tailwind CSS 的电商数据仪表盘（Dashboard）** 为例。

假设你已经安装了支持 BMAD 的工具（如配置了规则的 Cursor 编辑器），以下是完整的操作流程：

### 第一阶段：分析与规划 (Planning)

- **你的操作**：在 AI 对话框中呼叫“产品经理”角色（@Analyst 或 @PM），输入需求：_“我想做一个电商后台的数据看板，参考 Vercel 的设计风格，包含数据概览和图表。”_
- **AI 的工作**：AI 会根据你的描述进行分析。
- **产出成果**：生成 `docs/PRD.md`（产品需求文档）。
  - 文档中会详细列出功能点：如“深色模式切换”、“实时营收图表”、“最近订单列表”。
- **你的任务**：阅读文档，确认功能是否符合预期。

### 第二阶段：架构设计 (Architecture)

- **你的操作**：呼叫“架构师”角色（@Architect），指令为：_“根据 PRD 生成前端架构方案。”_
- **AI 的工作**：读取上一步的 PRD，制定技术规范。
- **产出成果**：生成 `docs/Architecture.md`（架构文档）。
  - **技术栈确认**：Next.js (App Router), Tailwind CSS, Shadcn/ui (组件库), Recharts (图表库), Zustand (状态管理)。
  - **规范制定**：定义目录结构（如采用 Feature-based 结构）、API 请求封装方式、以及 UI 设计规范。
- **你的任务**：检查技术选型是否合理。

### 第三阶段：任务拆解 (Sprint Planning)

- **你的操作**：呼叫“敏捷教练”角色（@ScrumMaster），指令为：_“把架构文档拆解为开发任务（Stories）。”_
- **AI 的工作**：将大的架构文档拆散成一个个可执行的小任务。
- **产出成果**：生成 `stories/` 文件夹，包含多个 Markdown 文件：
  - `story-1-setup.md`（项目初始化与依赖安装）
  - `story-2-layout.md`（侧边栏与顶部导航开发）
  - `story-3-dashboard-charts.md`（仪表盘图表组件开发）
- **你的任务**：确认任务拆分逻辑清晰，没有遗漏。

### 第四阶段：代码实现 (Implementation)

这是真正编写代码的阶段，你会逐个执行 Story。

- **你的操作**：呼叫“开发者”角色（@Developer），指令为：_“执行 story-2-layout.md。”_
- **AI 的工作**：
  1.  **读取上下文**：AI 会同时读取 PRD（了解业务）、Architecture（了解技术规范）和当前的 Story 文件（了解具体任务）。
  2.  **编写代码**：AI 自动创建 `components/Sidebar.tsx`，配置 Tailwind 类名，并更新 `app/layout.tsx`。
- **结果**：AI 生成的代码会严格遵守架构师定义的规范（例如使用 Shadcn/ui 的组件），而不是随机生成的风格。
- **你的任务**：测试侧边栏功能。如果通过，则继续执行下一个 Story。

## 总结

BMAD 是一个**文档驱动**且**分工明确**的 AI 开发流程。它不追求一次性生成所有代码，而是通过模仿人类软件团队的协作模式（分析 -> 架构 -> 拆解 -> 编码），让 AI 能够稳定、可控地完成复杂的现代前端开发任务。

